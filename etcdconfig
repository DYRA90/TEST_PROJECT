# CONFIGURE EACH ETCD INDIVIDUALLY BEFORE RUNNING THE ETCDCTL ADD MEMBER COMMAND

# ETCD1 INITIAL LEADER

ETCD_LISTEN_PEER_URLS="http://172.16.0.189:2380,http://127.0.0.1:2380"
ETCD_LISTEN_CLIENT_URLS="http://172.16.0.189:2379,http://127.0.0.1:2379"
ETCD_INITIAL_CLUSTER="etcd1=http://172.16.0.189:2380"
ETCD_INITIAL_CLUSTER_STATE="new"
ETCD_INITIAL_CLUSTER_TOKEN="myclustertoken"
ETCD_DATA_DIR="/var/lib/etcd"
ETCD_ELECTION_TIMEOUT="5000"
ETCD_HEARTBEAT_INTERVAL="1000"
ETCD_NAME="etcd1"
ETCD_ADVERTISE_CLIENT_URLS="http://172.16.0.189:2379"
ETCD_INITIAL_ADVERTISE_PEER_URLS="http://172.16.0.189:2380"


# TO ADD OTHER MEMBERS RUN THE BELOW COMMAND

etcdctl member add etcd2 --peer-urls=http://172.16.17.231:2380

# THE ABOVE COMMAND IS GOING TO ASK TO MIDIFY THE EDCD.CONF OF THE NODE TO BE ADDED WITH THE BELOW PARMS:


ETCD_LISTEN_PEER_URLS="http://172.16.0.192:2380,http://127.0.0.1:2380"
ETCD_LISTEN_CLIENT_URLS="http://172.16.0.192:2379,http://127.0.0.1:2379"
ETCD_INITIAL_CLUSTER_STATE="existing" #  Change this from "new" to "existing"
ETCD_INITIAL_CLUSTER_TOKEN="myclustertoken"
ETCD_DATA_DIR="/var/lib/etcd"
ETCD_ELECTION_TIMEOUT="5000"
ETCD_HEARTBEAT_INTERVAL="1000"
ETCD_NAME="etcd2"
ETCD_ADVERTISE_CLIENT_URLS="http://172.16.0.192:2379"
ETCD_INITIAL_ADVERTISE_PEER_URLS="http://172.16.0.192:2380"


